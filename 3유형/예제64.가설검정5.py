■ 예제64. 가설검정5.두 모집단의 모평균 차이 검정: 독립표본, 분산이 다른 경우 (t 검정):


가설검정
 ├─ 정규분포를 따르는 경우
 │   ├─ 단일 모집단의 모평균 검정
 │   │    ├─ 분산을 아는 경우  →  Z 검정   
 │   │    └─ 분산을 모르는 경우 →  t 검정 
 │   ├─ 두 모집단의 모평균 차이 검정
 │   │    ├─ 독립 표본         →  t 검정  <---  😊 이 부분을 하고 있어요
 │   │    └─ 대응 표본         →  t 검정
 │   └─ 세 모집단 이상의 모평균 차이 검정
 │        → ANOVA
 └─ 정규분포를 따르지 않는 경우
      → 비모수적 가설 검정

--------------------------------
[두 모집단의 모평균 차이 검정: 독립표본 t-검정 (동분산 및 비동분산) 이론 정리]

1. 정의:
   - 두 모집단의 모평균 차이를 검정하는 독립표본 t-검정은 두 개의 독립적인 집단에서 얻은 표본을 이용하여,
     두 모집단의 평균이 통계적으로 유의미하게 다른지를 평가하는 검정 방법입니다.
     
2. 주요 가정:
   - 각 집단의 데이터는 정규분포를 따른다.
   - 두 집단은 서로 독립적이다.
   - 동분산 가정: 두 집단의 분산이 같다고 가정한다.
     - 동분산이 만족되는 경우: 독립표본 t-검정(동분산 가정, equal_var=True)을 사용합니다.
     - 동분산 가정이 만족되지 않을 경우: 웰치 t-검정(비동분산, equal_var=False)을 사용합니다.

3. 등분산성 검정:
   - 두 집단의 분산이 같은지를 확인하기 위해 레빈 검정(Levene test) 등을 사용합니다.
     - 귀무가설: 두 집단의 분산이 같다.
     - 대립가설: 두 집단의 분산이 다르다.

4. 검정통계량:
   - 동분산 가정 하에서:
         t = (X̄₁ - X̄₂) / (Sp * √(1/n₁ + 1/n₂))
     여기서,
         Sp = √[ ((n₁ - 1)*s₁² + (n₂ - 1)*s₂² ) / (n₁ + n₂ - 2) ]
         자유도(df) = n₁ + n₂ - 2
   - 비동분산(웰치) t-검정에서는 위 공식과 자유도가 수정됩니다.
   
--------------------------------
[기출문제 정리]

● 2023년 제6회 빅데이터분석기사 필기
   - 문제:
         독립표본 t-검정에서 등분산성 가정을 만족하지 않을 때 사용하는 방법은?
         선택지:
            1) 웰치 t-검정
            2) 윌콕슨 순위합 검정
            3) 맨-휘트니 U 검정
            4) 단일표본 t-검정
   - 정답: 
   - 해설:
         등분산성 가정이 만족되지 않을 경우, 두 집단의 분산이 다르다는 점을 고려하여
         웰치 t-검정을 사용합니다.

● 2022년 제5회 빅데이터분석기사 필기
   - 문제:
         독립표본 t-검정에서 등분산성 가정을 확인하기 위한 검정은?
         선택지:
            1) 샤피로-윌크 검정
            2) 레빈 검정
            3) 콜모고로프-스미르노프 검정
            4) 카이제곱 검정
   - 정답: 
   - 해설:
         레빈 검정은 두 집단의 분산이 동일한지를 확인하는 데 사용되는 검정입니다.

● 2021년 제2회 빅데이터분석기사 필기
   - 문제:
         독립표본 t-검정에서 두 집단의 분산이 다를 때 사용하는 Python 코드는?
         선택지:
            1) stats.ttest_ind(group1, group2)
            2) stats.ttest_ind(group1, group2, equal_var=False)
            3) stats.ttest_rel(group1, group2)
            4) stats.mannwhitneyu(group1, group2)
   - 정답: 
   - 해설:
         두 집단의 분산이 다를 경우, equal_var 인자를 False로 설정하여 웰치 t-검정을 수행합니다.

--------------------------------
[파이썬 코드 예제: 웰치 t-검정 (비동분산 가정)]

# 예제: 두 그룹의 데이터를 이용하여 등분산성이 만족되지 않을 때(웰치 t-검정)를 수행하는 코드

import numpy as np
from scipy import stats

# 임의의 예제 데이터 (두 집단의 데이터)
group1 = np.array([12, 15, 14, 10, 13, 16, 14, 11, 15, 13])
group2 = np.array([10, 9, 8, 12, 11, 7, 9, 10, 8, 11])



[파이썬 코드 예제: 웰치 t-검정 (비동분산 가정) - 문제]

# 문제: 두 그룹의 데이터를 이용하여 등분산 가정이 성립하지 않을 때,
#         웰치 t-검정을 수행하는 예제입니다.

import numpy as np
from scipy import stats

# 예제 데이터: 두 집단의 데이터 (분산이 다를 가능성을 고려)
group1 = np.array([20, 22, 24, 23, 25, 21, 20, 22, 23, 24])
group2 = np.array([18, 17, 20, 19, 18, 21, 20, 17, 19, 18])


답: 




