
▣ 예제3.의사결정_트리로_데이터_분류하기.py 

# 의사결정트리(Decision Tree) 이론 정리

## 1. 개념과 특징
- 데이터를 특정 기준에 따라 분류하는 트리 형태의 모델
- 분류(Classification)와 회귀(Regression) 문제 모두에 활용 가능
- 직관적이고 해석하기 쉬운 장점이 있음
- 목표변수 유형에 따라 분류나무(이산형)와 회귀나무(연속형)로 구분

## 2. 주요 알고리즘
- CHAID, CART, ID3, C4.5 등이 있음
- 하향식 접근 방법(Top-down approach) 사용(★)
- 루트 노드에서 시작하여 리프 노드까지 데이터를 순차적으로 분할

## 3. 핵심 요소와 기법

### 정보획득량(Information Gain)
- 특정 속성 기준 분할 시 얻는 정보의 양을 측정
- 엔트로피 감소량으로 계산
- 정보획득량이 높은 속성을 기준으로 트리 분할
- ID3, C4.5 알고리즘에서 분할 기준으로 사용

### 정지규칙(Stopping Rules)
- 노드 분할을 중단하는 기준
- 주요 지표:
  - 카이제곱 통계량
  - 지니 지수
  - 엔트로피 지수

### 가지치기(Pruning)
- 과대적합(Overfitting) 방지를 위한 기법
- 불필요한 가지를 제거하여 모델 단순화
- 현실 문제에 적합한 규칙 도출에 도움

## 4. 모델 최적화 고려사항
- 과대적합 위험 관리를 위한 적절한 가지치기 필요
- 최종마디(리프 노드) 수가 너무 많으면 모델이 복잡해질 수 있음
- 정지규칙과 가지치기를 통한 모델 복잡도 조절 필요
- 정보획득량을 기반으로 한 효율적인 분할 기준 선택

## 5. 장단점
### 장점
- 모델 해석이 용이
- 데이터 전처리가 비교적 간단
- 수치형/범주형 데이터 모두 처리 가능

### 단점
- 과대적합 위험이 있음
- 데이터 변동에 민감할 수 있음
- 복잡한 패턴 학습에는 한계가 있을 수 있음

문제1. (2024년 데이터 준분석가) 의사결정트리에서 더 이상 세분화하지 않고 멈출 때 사용하는 기법은?

① 정지규칙
② 가지치기
③ 비용복잡도
④ 교차검증

정답:   

문제2. (2023년 빅데이터분석기사) 의사결정나무(Decision Tree)에 대한 설명 중 틀린 것은?

① 정지규칙이란 더 이상 분리가 일어나지 않고 현재의 마디가 최종마디가 되도록 하는 여러 가지 규칙으로 카이제곱통계량, 지니 지수, 엔트로피 지수 등이 있다

② 가지치기란 최종마디가 너무 많으면 모형이 과대 적합된 상태로 현실 문제에 적용할 수 있는 적절한 규칙이 나오지 않게 된다

③ 의사결정나무를 위한 알고리즘은 CHAID, CARD, ID3, C4.5가 있으며 상향식 접근 방법을 이용한다

④ 의사결정나무는 목표변수가 이산형인 경우의 분류나무와 목표변수가 연속형인 경우의 회귀나무로 구분된다


정답:  

문제3. (2024년 데이터 준분석가) 의사결정나무 모형에서 과대적합을 피하고 현실 문제에 적절한 규칙이 나오지 않는 현상을 방지하기 위해 사용되는 기법은?

① 가지치기
② 스템잉
③ 정지규칙
④ 랜덤포레스트

정답: 

■ 실습 

실습예제1.  아이리스 꽃 품종을 분류하는 의사결정 트리 모델을 파이썬으로 생성하시오!

#1. 데이터 불러오기
#2. 데이터 확인하기 
#3. 결측치 확인하기 
#4. 종속변수와 독립변수 분리하기 
#5. 데이터 스켈링 
#6. 훈련 데이터와 테스트 데이터 분리하기 
#9. 모델 생성
#10. 모델 훈련
#11. 모델 예측
#12. 모델 평가
#13. 모델 개선 

# 구현 




문제1.  독일은행 데이터(credit.csv) 를 가지고 의사 결정트리 모델을 생성하시오!
       채무를 불이행 사람들을 예측하는 머신러닝 모델을 생성 하시오!


#1. 데이터 불러오기
import pandas  as  pd

credit = pd.read_csv("d:\\data\\credit.csv") 
#credit.head()



문제2.  위의 모델을 랜덤 포레스트 모델로 변경해서 성능을 높이시오 !



